{"encoding": "base64", "content": "ZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsLCBMaXN0LCBEaWN0LCBBbnkKZnJvbSBzbWFydGFwaSBpbXBvcnQgU21hcnRDb25uZWN0CgpjbGFzcyBNYXJrZXREYXRhOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHNtYXJ0X2FwaTogU21hcnRDb25uZWN0KToKICAgICAgICBzZWxmLmFwaSA9IHNtYXJ0X2FwaQoKICAgIGFzeW5jIGRlZiBnZXRfaGlzdG9yaWNhbF9kYXRhKAogICAgICAgIHNlbGYsCiAgICAgICAgZXhjaGFuZ2U6IHN0ciwKICAgICAgICBzeW1ib2xfdG9rZW46IHN0ciwKICAgICAgICBpbnRlcnZhbDogc3RyLAogICAgICAgIGZyb21fZGF0ZTogc3RyLAogICAgICAgIHRvX2RhdGU6IHN0cgogICAgKSAtPiBMaXN0W0RpY3Rbc3RyLCBBbnldXToKICAgICAgICAiIiJHZXQgaGlzdG9yaWNhbCBjYW5kbGUgZGF0YSBmb3IgYSBzeW1ib2wKCiAgICAgICAgQXJnczoKICAgICAgICAgICAgZXhjaGFuZ2U6IEV4Y2hhbmdlIChOU0UsIEJTRSwgTkZPKQogICAgICAgICAgICBzeW1ib2xfdG9rZW46IFRyYWRpbmcgc3ltYm9sIHRva2VuCiAgICAgICAgICAgIGludGVydmFsOiBPTkVfTUlOVVRFLCBGSVZFX01JTlVURSwgRklGVEVFTl9NSU5VVEUsIFRISVJUWV9NSU5VVEUsIE9ORV9IT1VSLCBPTUVEQVQKICBICAT19L3RhYmxlOiBGcm9tIGRhdGUgKFlZWVktTU0tREQgSEg6bW0pCiAgICAgICAgICAgIHRvX2RhdGU6IFRvIGRhdGUgKFlZWVktTU0tREQgSEg6bW0pCiAgICAgICAgIiIiCiAgICAgICAgdHJ5OgogICAgICAgICAgICBkYXRhID0gc2VsZi5hcGkuZ2V0Q2FuZGxlRGF0YSh7CiAgICAgICAgICAgICAgICAnZXhjaGFuZ2UnOiBleGNoYW5nZSwKICAgICAgICAgICAgICAgICdzeW1ib2x0b2tlbic6IHN5bWJvbF90b2tlbiwKICAgICAgICAgICAgICAgICdpbnRlcnZhbCc6IGludGVydmFsLAogICAgICAgICAgICAgICAgJ2Zyb21kYXRlJzogZnJvbV9kYXRlLAogICAgICAgICAgICAgICAgJ3RvZGF0ZSc6IHRvX2RhdGUKICAgICAgICAgICAgfSkKICAgICAgICAgICAgcmV0dXJuIGRhdGFbJ2RhdGEnXQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYnRmFpbGVkIHRvIGdldCBoaXN0b3JpY2FsIGRhdGE6IHtzdHIoZSl9JykKCiAgICBhc3luYyBkZWYgZ2V0X3F1b3RlKHNlbGYsIGV4Y2hhbmdlOiBzdHIsIHN5bWJvbF90b2tlbjogc3RyKSAtPiBEaWN0W3N0ciwgQW55XToKICAgICAgICAiIiJHZXQgcmVhbC10aW1lIHF1b3RlIGZvciBhIHN5bWJvbCIiIgogICAgICAgIHRyeToKICAgICAgICAgICAgZGF0YSA9IHNlbGYuYXBpLmx0cERhdGEoZXhjaGFuZ2UsIHN5bWJvbF90b2tlbikKICAgICAgICAgICAgcmV0dXJuIGRhdGFbJ2RhdGEnXQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYnRmFpbGVkIHRvIGdldCBxdW90ZToge3N0cihlKX0nKQoKICAgIGFzeW5jIGRlZiBnZXRfbWFya2V0X3N0YXR1cyhzZWxmKSAtPiBEaWN0W3N0ciwgQW55XToKICAgICAgICAiIiJHZXQgY3VycmVudCBtYXJrZXQgc3RhdHVzIiIiCiAgICAgICAgdHJ5OgogICAgICAgICAgICByZXR1cm4gc2VsZi5hcGkubWFya2V0U3RhdHVzKClbJ2RhdGEnXQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYnRmFpbGVkIHRvIGdldCBtYXJrZXQgc3RhdHVzOiB7c3RyKGUpfScpCgogICAgYXN5bmMgZGVmIGdldF9leGNoYW5nZV9tZXNzYWdlKHNlbGYsIGV4Y2hhbmdlOiBzdHIpIC0+IExpc3RbRGljdFtzdHIsIEFueV1dOgogICAgICAgICIiIkdldCBleGNoYW5nZSBtZXNzYWdlcyIiIgogICAgICAgIHRyeToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuYXBpLmV4Y2hhbmdlTWVzc2FnZShleGNoYW5nZSlbJ2RhdGEnXQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYnRmFpbGVkIHRvIGdldCBleGNoYW5nZSBtZXNzYWdlOiB7c3RyKGUpfScp"}